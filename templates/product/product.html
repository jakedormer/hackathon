{% extends "base.html" %}
{% load static %}

{% block css %}
<link rel="stylesheet" href="{% static 'product/css/product.css' %}" crossorigin="anonymous">
{% endblock %}

{% block body %}
<!-- Breadcrumb -->
<nav aria-label="breadcrumb ">
   <ol class="breadcrumb border-bottom">
      <li class="breadcrumb-item"><a class="text-dark" href="/"><u>Home</u></a></li>
      <li class="breadcrumb-item"><a class="text-dark" href="/{{product.category}}/c/{{product.category.id}}"><u>{{product.category|title}}</u></a></li>
      <li class="breadcrumb-item active" aria-current="page">{{product.title|title}}</li>
   </ol>
</nav>


<div class="row m-1">
  <!-- Image -->
   <div class="col-lg-7 col-md-8 col-sm-12 text-center">
      <img src="{{product.image_src}}" class="img-fluid" alt="Responsive image" style="max-height:500px;">
   </div>

   <div class="col-lg-5 col-md-4 col-sm-12 p-0">
      <h3 class="font-weight-bold">{{product|title}}</h3>
      <hr>
      <h4 class="mb-3"><b>Â£49.00</b></h4>


      <!-- Form  -->
      <form class="mt-3" method="get" action="/add_to_cart">
         {% csrf_token %}
         <div class="col p-0">
         <p class="font-weight-bold">Size</p>

         <div class="mb-4">
            {% for size in sizes %}
            <div class="d-inline mr-1 swatch">
               <input class="form-check-input d-none" type="radio" name="product_id" id="{{size.value_option}}" value="{{size.product.id}}"
               {% if size.product.stockrecords.first.num_in_stock != 0  %} {% ifchanged %} checked {% endifchanged %} {% endif %}
               {% if size.product.stockrecords.first.num_in_stock == 0 %} disabled {% endif %}
               required>
               <label class="form-check-label border text-center p-2" for="{{size.value_option}}">
               {{size.value_option}}
               </label>
            </div>
            {% endfor %}
         </div>
       </div>

         <div class="col-lg-6 col-sm-12 p-0">
         <p class="font-weight-bold">Quantity</p>
            <input type="number" class="form-control text-center w-100" min=1 name="quantity" value=1>

         <div class="mb-4">
            <button type="submit" class="btn btn-dark w-100 mt-3"><i class="fas fa-shopping-bag mr-2"></i><b>Add to cart</b></button>
         </div>
          </div>
      </form>


      <!-- Details -->
      <div id="accordion">
         <div class="card">
            <div class="bg-vestem" id="headingOne">
               <h5 class="mb-0">
                  <button class="btn w-100 btn-link text-dark" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                  <span class="float-left">Size Guide</span>
                  <span class="float-right mt-1 mr-2">+</span>
                  </button>
                  
               </h5>
            </div>
            <div id="collapseOne" class="collapse" aria-labelledby="headingOne" data-parent="#accordion">
               <div class="card-body">
                  <table>
                     <thead>
                        {% for item in product.size_guide.sizeguideitem_set.all %}
                        <th>{{item.size}}</th>
                        {% endfor %}
                     </thead>
                  </table>
               </div>
            </div>
         </div>
      </div>


   </div>
</div>

<!-- Related Items -->
<div class="row mt-5">
   <div class="col text-center">
      <h3>Related Items</h3>
      <hr>
   </div>
</div>
{% endblock %}